---
title: P8:wechat验证失败
date: 2017-11-01 22:15:26
categories:
- React.js
- AMap公众号
---

<!--more-->

#### 问题

公众号获取授权，这里面采用了中间跳转的方式。

首先公众号菜单点击，返回一个带跳转的链接，链接跳到一个temp.html里面，在这里面请求验证授权，成功之后带着参数跳转至业务网址上面。


发现一个问题，

temp.html 用jquery的$.ajax请求在ios手机上不能正常发送请求，需要用原生的XMLHTTPREQUEST进行请求。[不知道是什么原因。。]


还有一个问题：

如图：![](/assets/rj/18.png)

问题原因：用户用户名带有特殊字符如图标，需要后台验证的时候替换一下。。




